{
  "hash": "a2d57b2117f673a5b86df24370031427",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Technical reports with R Markdown & Bookdown\"\ndescription: |\n  I provide code snippets for a variety of text environments and formats\n  that can be created with R Markdown and the Bookdown package. I focus on\n  the elements most useful for writing math.\ndate: 2024-03-22\ncategories: [Reference]\nimage: thumbnail.jpg\nimage-alt: \"The Concord Meadow by Childe Hassam, public domain.\"\n\nnumber-sections: true\ncode-links:\n  - text: Cheat sheet\n    icon: file-code\n    href: https://bainmatt.github.io/posts/2024-03-15-writing-temp/cheatsheet.html\n\ndraft: false\n---\n\n\nCombining R Markdown with typesetting functionality from the\n[Bookdown](https://bookdown.org/) package and\n[Distill](https://rstudio.github.io/distill/) web publishing format\nprovides a comprehensive set of tools for composing web documents. In\nthis high-level reference I cover the tools that I find most useful for\nwriting organized, easily referenced, math-heavy documents. The examples\nare arbitrary, only meant to illustrate the syntax. The\n[LaTeX](https://en.wikibooks.org/wiki/LaTeX/Mathematics) and\n[markdown](https://www.markdownguide.org/) syntax are not explained. For\neach example I provide the raw text followed by the rendered output.\n\n# Definition, theorem, proof\n\nThe familiar math textbook refrain. Here's the Bookdown syntax for\ndefinition, theorem, and proof environments, respectively.\n\n#### Definition {.unnumbered}\n\n``` latex\n::: {#def-disjoint-sets}\n\n## Disjoint sets\n\nTwo sets $A_1$ and $A_2$ are *disjoint* if their intersection\n$A_1 \\cap A_2 = \\emptyset$, where $\\emptyset$ is the empty set. We say\nthat $n$ sets $A_1, A_2, ..., A_n$ are disjoint if\n$A_i \\cap A_j = \\emptyset$ for $i! = j$.\n:::\n```\n\n::: {#def-disjoint-sets}\n## Disjoint sets\n\nTwo sets $A_1$ and $A_2$ are *disjoint* if their intersection\n$A_1 \\cap A_2 = \\emptyset$, where $\\emptyset$ is the empty set. We say\nthat $n$ sets $A_1, A_2, ..., A_n$ are disjoint if\n$A_i \\cap A_j = \\emptyset$ for $i! = j$.\n:::\n\n#### Theorem {.unnumbered}\n\n``` latex\n::: {#thm-pyth}\n\n## Pythagorean theorem\n\nGiven a right triangle, if $c$ denotes the length of the hypotenuse and\n$a$ and $b$ the lengths of the other two sides, then\n$$a^2 + b^2 = c^2.$$\n:::\n```\n\n::: {#thm-pyth}\n## Pythagorean theorem\n\nGiven a right triangle, if $c$ denotes the length of the hypotenuse and\n$a$ and $b$ the lengths of the other two sides, then\n$$a^2 + b^2 = c^2.$$\n:::\n\n<aside>Table 2.1 on\n[this](https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html)\npage from *Authoring Books with R Markdown* lists all the other\navailable theorem environments and their respective keywords.</aside>\n\n#### Proof {.unnumbered}\n\n``` latex\n::: {.proof}\n\n## Pythagorean theorem\n\nLet $x, y$ be ...\n\n... Thus, $$a^2 + b^2 = c^2,$$\n\nas desired.\n\n$$\n\\tag*{$\\square$}\n$$\n:::\n```\n\n::: fig-border\n:::\n\n::: proof\n## Pythagorean theorem\n\nLet $x, y$ be ...\n\n... Thus, $$a^2 + b^2 = c^2,$$\n\nas desired.\n\n$$\n\\tag*{$\\square$}\n$$\n:::\n\n::: fig-border\n:::\n\n#### Automatic numbering {.unnumbered}\n\nThe nice thing about Bookdown is that it will automatically number\ndefinitions and theorems so that you can easily cross-reference them\nlater on (see the [Cross-references](#cross-references) section below).\nJust replace the name following the `#` (`pyth-thm` in the example\nbelow) with a unique label (containing no spaces) that will be\nconvenient to reference.\n\n``` latex\n::: {#def-cont-map}\n\n## Continuous map\n\nA continuous map is a continuous function between two topological\nspaces.\n:::\n```\n\n::: {#def-cont-map}\n## Continuous map\n\nA continuous map is a continuous function between two topological\nspaces.\n:::\n\n<aside>Notice that the definition's number was automatically incremented\nfrom the previous definition.</aside>\n\n# Assorted math examples {#sec-math-elements}\n\nHere is an assortment of LaTeX examples along with their output.\n\n#### Brace annotation {.unnumbered}\n\n``` latex\n$$\n\\underbrace{\\ln \\left( \\frac{5}{6} \\right)}_{\\simeq -0.1823} <\n\\overbrace{\\exp \\left(\\frac{1}{2} \\right)}^{\\simeq 1.6487}\n$$\n```\n\n$$\n\\underbrace{\\ln \\left( \\frac{5}{6} \\right)}_{\\simeq -0.1823} <\n\\overbrace{\\exp \\left(\\frac{1}{2} \\right)}^{\\simeq 1.6487}\n$$\n\n#### Brackets and braces {.unnumbered}\n\n``` latex\n$$\n( a ), [ b ], \\{ c \\}, | d |, \\| e \\|,\n\\langle f \\rangle, \\lfloor g \\rfloor,\n\\lceil h \\rceil, \\ulcorner i \\urcorner,\n/ j \\backslash\n$$\n```\n\n$$\n( a ), [ b ], \\{ c \\}, | d |, \\| e \\|,\n\\langle f \\rangle, \\lfloor g \\rfloor,\n\\lceil h \\rceil, \\ulcorner i \\urcorner,\n/ j \\backslash\n$$\n\n``` latex\n$$\n( \\big( \\Big( \\bigg( \\Bigg(\n$$\n```\n\n$$\n( \\big( \\Big( \\bigg( \\Bigg(\n$$\n\n#### Fractions {.unnumbered}\n\n``` latex\n$$\n\\begin{equation}\n    x = a_0 + \\cfrac{1}{a_1 \n            + \\cfrac{1}{a_2 \n            + \\cfrac{1}{a_3 + \\cfrac{1}{a_4} } } }\n\\end{equation}\n$$\n```\n\n$$\n\\begin{equation}\n    x = a_0 + \\cfrac{1}{a_1 \n            + \\cfrac{1}{a_2 \n            + \\cfrac{1}{a_3 + \\cfrac{1}{a_4} } } }\n\\end{equation}\n$$\n\n``` latex\n$$\n\\frac{\n\\begin{array}[b]{r}\n    \\left( x_1 x_2 \\right) \\\\\n    \\times \n    \\left( x'_1 x'_2 \\right)\n\\end{array}} {\n\\left( y_1y_2y_3y_4 \\right) \n}\n$$\n```\n\n<aside>The `\\left(` / `\\right)` command encloses its contents in big\nbrackets.</aside>\n\n$$\n\\frac{\n\\begin{array}[b]{r}\n    \\left( x_1 x_2 \\right) \\\\\n    \\times \n    \\left( x'_1 x'_2 \\right)\n\\end{array}} {\n\\left( y_1y_2y_3y_4 \\right) \n}\n$$\n\n#### Calculus expressions {.unnumbered}\n\n``` latex\n$$\n\\int_0^\\infty \\mathrm{e}^{-x} ~ \\mathrm{d}x\n$$\n```\n\n$$\n\\int_0^\\infty \\mathrm{e}^{-x} ~ \\mathrm{d}x\n$$\n\n``` latex\n$$\n\\int\\limits_a^b \\sin(x) ~ \\mathrm{d}x\n$$\n```\n\n$$\n\\int\\limits_a^b \\sin(x) ~ \\mathrm{d}x\n$$\n\n``` latex\n$$\n\\sum_{\n\\substack{\n    0<i<m \\\\\n    0<j<n \n}} \nP(i,j)\n$$\n```\n\n$$\n\\sum_{\n\\substack{\n    0<i<m \\\\\n    0<j<n \n}} \nP(i,j)\n$$\n\n#### Linear algebra expressions {.unnumbered}\n\n``` latex\n$$\n\\begin{matrix}\n    a & b & c \\\\\n    d & e & f \\\\\n    g & h & i\n\\end{matrix}\n$$\n```\n\n$$\n\\begin{matrix}\n    a & b & c \\\\\n    d & e & f \\\\\n    g & h & i\n\\end{matrix}\n$$\n\n``` latex\n$$\nA_{m,n} = \n\\begin{pmatrix}\n    a_{1,1} & a_{1,2} & \\cdots & a_{1,n} \\\\\n    a_{2,1} & a_{2,2} & \\cdots & a_{2,n} \\\\\n    \\vdots  & \\vdots  & \\ddots & \\vdots  \\\\\n    a_{m,1} & a_{m,2} & \\cdots & a_{m,n} \n\\end{pmatrix}\n$$\n```\n\n$$\nA_{m,n} = \n\\begin{pmatrix}\n    a_{1,1} & a_{1,2} & \\cdots & a_{1,n} \\\\\n    a_{2,1} & a_{2,2} & \\cdots & a_{2,n} \\\\\n    \\vdots  & \\vdots  & \\ddots & \\vdots  \\\\\n    a_{m,1} & a_{m,2} & \\cdots & a_{m,n} \n\\end{pmatrix}\n$$\n\n``` latex\n$$\nX = \n\\begin{bmatrix}\n    x_1 & y_1 \\\\\n    x_2 & y_2 \\\\\n    x_3 & y_3\n\\end{bmatrix}\n$$\n```\n\n$$\nX = \n\\begin{bmatrix}\n    x_1 & y_1 \\\\\n    x_2 & y_2 \\\\\n    x_3 & y_3\n\\end{bmatrix}\n$$\n\n``` latex\n$$\nX \n= \n\\left[\\begin{matrix}\n    a & b & c \\\\\n    d & e & f \\\\\n    g & h & i\n\\end{matrix}\\right]\n\\left[\\begin{matrix}\n    y^{(1)} \\\\ \n    y^{(2)} \\\\\n    y^{(3)}\n\\end{matrix}\\right]\n= \n\\left[\\begin{matrix}\n    |                     & |                     & | \\\\\n    y^{(1)} ~ \\vec{x}_1   & y^{(2)} ~ \\vec{x}_2   & y^{(3)} ~ \\vec{x}_3 \\\\\n    |                     & |                     & |\n\\end{matrix}\\right]\n\\in \\mathbb{R^3}\n$$\n```\n\n<aside>The `~` symbol represents a whitespace character.</aside>\n\n$$\n\\begin{align}\nX \n& = \n\\left[\\begin{matrix}\n    a & b & c \\\\\n    d & e & f \\\\\n    g & h & i\n\\end{matrix}\\right]\n\\left[\\begin{matrix}\n    y^{(1)} \\\\ \n    y^{(2)} \\\\\n    y^{(3)}\n\\end{matrix}\\right] \\\\\n& = \n\\left[\\begin{matrix}\n    |                     & |                     & | \\\\\n    y^{(1)} ~ \\vec{x}_1   & y^{(2)} ~ \\vec{x}_2   & y^{(3)} ~ \\vec{x}_3 \\\\\n    |                     & |                     & |\n\\end{matrix}\\right]\n\\in \\mathbb{R^3}\n\\end{align}\n$$\n\n#### Probability expressions {.unnumbered}\n\n``` latex\n$$\n\\left(\\!\n\\begin{array}{c}\n    n \\\\\n    r\n\\end{array}\n\\!\\right) \n= \\frac{n!}{r!(n-r)!}\n$$\n```\n\n$$\n\\left(\\!\n\\begin{array}{c}\n    n \\\\\n    r\n\\end{array}\n\\!\\right) \n= \\frac{n!}{r!(n-c)!}\n$$\n\n``` latex\n$$\n\\begin{equation} \n    \\phi \\left(x; \\mu, \\sigma \\right) \n    = \\frac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp \n    \\left( - \n    \\frac{\\left(x - \\mu\\right)^2}{2 \\sigma^2} \n    \\right)\n\\end{equation}\n$$\n```\n\n$$\n\\begin{equation} \n    \\phi \\left(x; \\mu, \\sigma \\right) \n    = \\frac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp \n    \\left( - \n    \\frac{\\left(x - \\mu\\right)^2}{2 \\sigma^2} \n    \\right)\n\\end{equation}\n$$\n\n# Numbered equations\n\nUnlike in pure LaTeX, in `bookdown` we must manually assign labels to\nevery line that should have a number. I do so for significant passages,\nsteps, and equations. Here is an example of a numbered equation:\n\n``` latex\n$$\n\\begin{equation} \n    \\mathbb{P} \\left(k\\right) \n    = \\binom{n}{k}\n    p^k\\left(1-p\\right)^{n-k}\n\\end{equation}\n$$ {#eq-binom-eq}\n```\n\n$$\n\\begin{equation} \n    \\mathbb{P} \\left(k\\right) \n    = \\binom{n}{k}\n    p^k\\left(1-p\\right)^{n-k}\n\\end{equation}\n$$ {#eq-binom-eq}\n\n# Math blocks\n\n#### Numbered blocks {.unnumbered}\n\nHere is an example from the [Bookdown\ndocumentation](https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html).\nIt illustrates how to display a block of math with multiple lines that\nshare a single number and label. We use the LaTeX `split` environment to\nsplit the number across lines and wrap it all in double dollar signs to\ntell R to treat it as math rather than raw text. To give the block a\nnumber we add an `(\\#eq:<equation-label>)` after closing the split\nenvironment with `\\end{split}`. Just replace the text after the `\\#eq:`\nprefix with a memorable label of your choice.\n\n``` latex\n$$\n\\begin{split}\n\\mathrm{Var}(\\hat{\\beta}) & =\\mathrm{Var}((X'X)^{-1}X'y) \\\\\n    & = (X'X)^{-1}X'\\mathrm{Var}(y)((X'X)^{-1}X')' \\\\\n    & = (X'X)^{-1}X'\\mathrm{Var}(y)X(X'X)^{-1} \\\\\n    & = (X'X)^{-1}X'\\sigma^{2}IX(X'X)^{-1} \\\\\n    & = (X'X)^{-1}\\sigma^{2}\n\\end{split}\n$$ {#eq-var-beta}\n```\n\n$$\n\\begin{split}\n\\mathrm{Var}(\\hat{\\beta}) & =\\mathrm{Var}((X'X)^{-1}X'y) \\\\\n    & = (X'X)^{-1}X'\\mathrm{Var}(y)((X'X)^{-1}X')' \\\\\n    & = (X'X)^{-1}X'\\mathrm{Var}(y)X(X'X)^{-1} \\\\\n    & = (X'X)^{-1}X'\\sigma^{2}IX(X'X)^{-1} \\\\\n    & = (X'X)^{-1}\\sigma^{2}\n\\end{split}\n$$ {#eq-var-beta}\n\nSome additional notes:\n\n-   Each new line is preceded by a `\\\\` operator.\n-   Each aligned expression begins with the `&` operator.\n\n#### Numbered lines and inline notes {.unnumbered}\n\nWe can number lines individually by using the LaTeX `align` environment\nand adding a unique `(\\#eq:<equation-label>)` at the end of every line\nthat should have a number. Additionally, we can add in-line comments by\nplacing `&&` followed by `(<my LaTeX-formatted comment>)` at the end of\nthe line, before the number label. As with our use of the `&` operator\nto align successive lines of math, the `&&` operator tells the LaTeX\ncompiler to align comments, but to do so to the right of the aligned\nmath.\n\n``` latex\n$$\n\\begin{align}\n\\sum_{i=1}^{n} \\left( X_i - \\overline{X} \\right )\n    & = \\sum_{i=1}^{n}X_i - \\sum_{i=1}^{n} \\overline{X}\n        &&& \\scriptstyle{\\text{\n            (comment 1)\n        }}  \\tag{a}\n    \\\\\n    & = \\sum_{i=1}^{n} X_i - n \\overline{X}\n        &&& \\scriptstyle{\\left(\\begin{array}{c}\n            \\text{comment 2 has symbols: } \\int_{a}^{b} 4 \\pi r^2 \\\\\n            \\text{... and carries over to a second line.\n        }\\end{array}\\right)}\n    \\\\\n    & = \\sum_{i=1}^{n}X_i - \\sum_{i=1}^{n}X_i \n    \\\\\n    & = 0  \\tag{b}\n\\end{align}\n$$ {#eq-var}\n```\n\n<aside>We use `scriptstyle` to make the inline text smaller. Other\ncustom display options are detailed\n[here](https://www.overleaf.com/learn/latex/Display_style_in_math_mode)\n(by *Overleaf*).</aside>\n\n$$\n\\begin{align}\n\\sum_{i=1}^{n} \\left( X_i - \\overline{X} \\right )\n    & = \\sum_{i=1}^{n}X_i - \\sum_{i=1}^{n} \\overline{X}\n        &&& \\scriptstyle{\\text{\n            (comment 1)\n        }}  \\tag{a}\n    \\\\\n    & = \\sum_{i=1}^{n} X_i - n \\overline{X}\n        &&& \\scriptstyle{\\left(\\begin{array}{c}\n            \\text{comment 2 has symbols: } \\int_{a}^{b} 4 \\pi r^2 \\\\\n            \\text{... and carries over to a second line.\n        }\\end{array}\\right)}\n    \\\\\n    & = \\sum_{i=1}^{n}X_i - \\sum_{i=1}^{n}X_i\n    \\\\\n    & = 0  \\tag{b}\n\\end{align}\n$$ {#eq-var}\n\n# Code blocks\n\nWe can include some nicely formatted Python code:\n\n\n::: {.cell}\n\n```{.python .cell-code}\n# Display the Fibonacci sequence\nnterms = 5\n\nn1, n2 = 0, 1\ncount = 0\n\nif nterms <= 0:\n  print(\"Please enter a positive integer\")\n\nelif nterms == 1:\n  print(\"Fibonacci sequence up to\", nterms, \":\")\n  print(n1)\n\nelse:\n  print(\"Fibonacci sequence:\")\n  while count < nterms:\n    print(n1)\n    nth = n1 + n2\n    n1 = n2\n    n2 = nth\n    count += 1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nFibonacci sequence:\n0\n1\n1\n2\n3\n```\n\n\n:::\n:::\n\n\n# Figures, tables, images\n\n#### Figures {.unnumbered}\n\nWe can also execute the code within R Markdown and display the output.\nHere's an example using ggplot2 that also illustrates how to display a\nnumbered figure with a caption:\n\n::: fig-border\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\ndiamonds$color_group <- factor(ifelse(\n  diamonds$color %in% c(\"D\", \"E\", \"F\"),\n  \"Group 1\", \"Group 2\"\n))\n\nggplot(\n  diamonds,\n  aes(x = carat, y = price, color = color_group, fill = color_group)\n) +\n  geom_smooth() +\n  facet_grid(~ cut) +\n  theme_minimal(base_family = \"Verdana\", base_size = 9.5) +\n\n  # Grid\n  theme(panel.grid.major.y = element_line(size = .1),\n        panel.grid.minor.y = element_blank(),\n        panel.grid.major.x = element_line(size = .1),\n        panel.grid.minor.x = element_blank()) +\n\n  # Colours\n  scale_color_brewer(type = \"qual\", palette = \"Accent\") +\n  scale_fill_brewer(type = \"qual\", palette = \"Accent\") +\n\n  # Labels\n  labs(\n    title = \"This is a title\",\n    subtitle = \"(This is a subtitle)\",\n    caption = \"Data from <source>.\",\n    x = expression(italic(x)),\n    y = expression(italic(y)),\n    colour = \"Group\"\n  ) +\n\n  # Legend\n  guides(fill = \"none\") +\n  guides(color = guide_legend(override.aes = list(fill = \"white\")))\n```\n\n::: {.cell-output-display}\n![This is a figure caption.](index_files/figure-html/fig-1-1.png){#fig-1 width=576}\n:::\n:::\n\n\n<aside>A good reference for theme options is\n[here](https://ggplot2.tidyverse.org/reference/theme.html) (*ggplot\ndocumentation*).</aside>\n\n::: fig-border\n:::\n\nA couple notes:\n\n-   To cross-reference a figure, image, or table rendered with R code,\n    give the chunk a unique label in its\n    [knitr](https://yihui.org/knitr/options/) header following the `r`\n    prefix.\n-   To give your figure a caption with a numbered prefix as shown in\n    this example, add fig.cap=\"\\<Your figure caption.\\>\" to the knitr\n    header, replacing the string inside the quotation marks.\n\nHere's a more involved example that uses some more fine-tuning to\nachieve desired aesthetics. In the first cell we define the data. I\ninclude this example because 1) I like this plot, and 2) I think it is a\ngood example of how to manually enter data points into a structure that\nggplot can work with and then to use that structure to produce a\nmeaningful plot.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create df\ndf <- data.frame(\n  level = rep(c('L1', 'L2', 'L3', 'L4'), each = 3),\n  y = c(9, 3, 2, 20, 5, 5, 41, 14, 10, 96, 74, 47),\n  group = rep(c('G1', 'G2', 'G3'), times = 4)\n  )\ndf$level <- factor(df$level, levels = c('L1', 'L2', 'L3', 'L4'))\ndf$group <- factor(df$group, levels = c('G1', 'G2', 'G3'))\ndf\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   level  y group\n1     L1  9    G1\n2     L1  3    G2\n3     L1  2    G3\n4     L2 20    G1\n5     L2  5    G2\n6     L2  5    G3\n7     L3 41    G1\n8     L3 14    G2\n9     L3 10    G3\n10    L4 96    G1\n11    L4 74    G2\n12    L4 47    G3\n```\n\n\n:::\n:::\n\n\n::: fig-border\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(ggplot2)\nlibrary(ggtext)\n\nbar_numbers <- df$y\n\np <- ggplot(df, aes(x = level, y = y, fill = group)) +\n  geom_col(position = position_dodge(0.6), colour = \"black\", width = .5) +\n  theme_minimal(base_family = \"Verdana\", base_size = 9.5) +\n\n  # Grid\n  theme(\n    panel.grid.major.x = element_blank(),\n    panel.grid.minor.x = element_blank(),\n    panel.grid.minor.y = element_blank(),\n  ) +\n\n  # Colours/Legend labels\n  scale_fill_brewer(\n    name = \"\",\n    palette = 1,\n    labels = c(\"Level 1\", \"Level 2\", \"Level 3\")\n  ) +\n\n  # Labels\n  labs(\n    title = \"Title\",\n    subtitle = \"Subtitle\",\n    x = expression(paste(italic(x), \" label\")),\n    y = expression(paste(italic(y), \" label\")),\n    caption = \"Source.\"\n  ) +\n  scale_x_discrete(\n    labels = c('Group 1', 'Group 2', 'Group 3', 'Group 4')\n  ) +\n\n  # Text/Legend adjustments\n  theme(\n    plot.title = element_markdown(lineheight = 1.1),\n    legend.position = \"top\"\n  ) +\n\n  # Bar numbers\n  geom_text(\n    aes(label = bar_numbers),\n    position = position_dodge(width = 0.6),\n    vjust = -0.5, hjust = 0.5,\n    size = 3.5,\n    fontface = 1.9,\n    color = \"black\",\n    family = \"Verdana\",\n    ) +\n\n  # Axis limits\n  ylim(0, 105)\np\n```\n\n::: {.cell-output-display}\n![Figure caption.](index_files/figure-html/fig-2-1.png){#fig-2 width=576}\n:::\n:::\n\n\n::: fig-border\n:::\n\n#### Tables {.unnumbered}\n\nWe can also display data frames as nicely formatted tables. This example\nuses [`kable`](https://bookdown.org/yihui/rmarkdown-cookbook/kable.html)\nto render the built-in `mtcars` dataset as a static table:\n\n::: scroll-container\n\n::: {#tbl-1 .cell tbl-cap='This is a table caption'}\n\n```{.r .cell-code}\nlibrary(knitr)\nkable(head(mtcars))\n```\n\n::: {.cell-output-display}\n\n\n|                  |  mpg| cyl| disp|  hp| drat|    wt|  qsec| vs| am| gear| carb|\n|:-----------------|----:|---:|----:|---:|----:|-----:|-----:|--:|--:|----:|----:|\n|Mazda RX4         | 21.0|   6|  160| 110| 3.90| 2.620| 16.46|  0|  1|    4|    4|\n|Mazda RX4 Wag     | 21.0|   6|  160| 110| 3.90| 2.875| 17.02|  0|  1|    4|    4|\n|Datsun 710        | 22.8|   4|  108|  93| 3.85| 2.320| 18.61|  1|  1|    4|    1|\n|Hornet 4 Drive    | 21.4|   6|  258| 110| 3.08| 3.215| 19.44|  1|  0|    3|    1|\n|Hornet Sportabout | 18.7|   8|  360| 175| 3.15| 3.440| 17.02|  0|  0|    3|    2|\n|Valiant           | 18.1|   6|  225| 105| 2.76| 3.460| 20.22|  1|  0|    3|    1|\n\n\n:::\n:::\n\n:::\n\n#### Paged tables {.unnumbered}\n\nAnd this example uses the\n[`paged_table`](https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html)\nfunction to generate a table with its columns spread out over several\nclickable pages:\n\n\n::: {#tbl-2 .cell tbl-cap='This is another table caption'}\n\n```{.r .cell-code}\nlibrary(rmarkdown)\npaged_table(mtcars)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"mpg\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"cyl\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"disp\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"hp\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"drat\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"wt\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"qsec\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"vs\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"am\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"gear\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"carb\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"21.0\",\"2\":\"6\",\"3\":\"160.0\",\"4\":\"110\",\"5\":\"3.90\",\"6\":\"2.620\",\"7\":\"16.46\",\"8\":\"0\",\"9\":\"1\",\"10\":\"4\",\"11\":\"4\",\"_rn_\":\"Mazda RX4\"},{\"1\":\"21.0\",\"2\":\"6\",\"3\":\"160.0\",\"4\":\"110\",\"5\":\"3.90\",\"6\":\"2.875\",\"7\":\"17.02\",\"8\":\"0\",\"9\":\"1\",\"10\":\"4\",\"11\":\"4\",\"_rn_\":\"Mazda RX4 Wag\"},{\"1\":\"22.8\",\"2\":\"4\",\"3\":\"108.0\",\"4\":\"93\",\"5\":\"3.85\",\"6\":\"2.320\",\"7\":\"18.61\",\"8\":\"1\",\"9\":\"1\",\"10\":\"4\",\"11\":\"1\",\"_rn_\":\"Datsun 710\"},{\"1\":\"21.4\",\"2\":\"6\",\"3\":\"258.0\",\"4\":\"110\",\"5\":\"3.08\",\"6\":\"3.215\",\"7\":\"19.44\",\"8\":\"1\",\"9\":\"0\",\"10\":\"3\",\"11\":\"1\",\"_rn_\":\"Hornet 4 Drive\"},{\"1\":\"18.7\",\"2\":\"8\",\"3\":\"360.0\",\"4\":\"175\",\"5\":\"3.15\",\"6\":\"3.440\",\"7\":\"17.02\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"2\",\"_rn_\":\"Hornet Sportabout\"},{\"1\":\"18.1\",\"2\":\"6\",\"3\":\"225.0\",\"4\":\"105\",\"5\":\"2.76\",\"6\":\"3.460\",\"7\":\"20.22\",\"8\":\"1\",\"9\":\"0\",\"10\":\"3\",\"11\":\"1\",\"_rn_\":\"Valiant\"},{\"1\":\"14.3\",\"2\":\"8\",\"3\":\"360.0\",\"4\":\"245\",\"5\":\"3.21\",\"6\":\"3.570\",\"7\":\"15.84\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"4\",\"_rn_\":\"Duster 360\"},{\"1\":\"24.4\",\"2\":\"4\",\"3\":\"146.7\",\"4\":\"62\",\"5\":\"3.69\",\"6\":\"3.190\",\"7\":\"20.00\",\"8\":\"1\",\"9\":\"0\",\"10\":\"4\",\"11\":\"2\",\"_rn_\":\"Merc 240D\"},{\"1\":\"22.8\",\"2\":\"4\",\"3\":\"140.8\",\"4\":\"95\",\"5\":\"3.92\",\"6\":\"3.150\",\"7\":\"22.90\",\"8\":\"1\",\"9\":\"0\",\"10\":\"4\",\"11\":\"2\",\"_rn_\":\"Merc 230\"},{\"1\":\"19.2\",\"2\":\"6\",\"3\":\"167.6\",\"4\":\"123\",\"5\":\"3.92\",\"6\":\"3.440\",\"7\":\"18.30\",\"8\":\"1\",\"9\":\"0\",\"10\":\"4\",\"11\":\"4\",\"_rn_\":\"Merc 280\"},{\"1\":\"17.8\",\"2\":\"6\",\"3\":\"167.6\",\"4\":\"123\",\"5\":\"3.92\",\"6\":\"3.440\",\"7\":\"18.90\",\"8\":\"1\",\"9\":\"0\",\"10\":\"4\",\"11\":\"4\",\"_rn_\":\"Merc 280C\"},{\"1\":\"16.4\",\"2\":\"8\",\"3\":\"275.8\",\"4\":\"180\",\"5\":\"3.07\",\"6\":\"4.070\",\"7\":\"17.40\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"3\",\"_rn_\":\"Merc 450SE\"},{\"1\":\"17.3\",\"2\":\"8\",\"3\":\"275.8\",\"4\":\"180\",\"5\":\"3.07\",\"6\":\"3.730\",\"7\":\"17.60\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"3\",\"_rn_\":\"Merc 450SL\"},{\"1\":\"15.2\",\"2\":\"8\",\"3\":\"275.8\",\"4\":\"180\",\"5\":\"3.07\",\"6\":\"3.780\",\"7\":\"18.00\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"3\",\"_rn_\":\"Merc 450SLC\"},{\"1\":\"10.4\",\"2\":\"8\",\"3\":\"472.0\",\"4\":\"205\",\"5\":\"2.93\",\"6\":\"5.250\",\"7\":\"17.98\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"4\",\"_rn_\":\"Cadillac Fleetwood\"},{\"1\":\"10.4\",\"2\":\"8\",\"3\":\"460.0\",\"4\":\"215\",\"5\":\"3.00\",\"6\":\"5.424\",\"7\":\"17.82\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"4\",\"_rn_\":\"Lincoln Continental\"},{\"1\":\"14.7\",\"2\":\"8\",\"3\":\"440.0\",\"4\":\"230\",\"5\":\"3.23\",\"6\":\"5.345\",\"7\":\"17.42\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"4\",\"_rn_\":\"Chrysler Imperial\"},{\"1\":\"32.4\",\"2\":\"4\",\"3\":\"78.7\",\"4\":\"66\",\"5\":\"4.08\",\"6\":\"2.200\",\"7\":\"19.47\",\"8\":\"1\",\"9\":\"1\",\"10\":\"4\",\"11\":\"1\",\"_rn_\":\"Fiat 128\"},{\"1\":\"30.4\",\"2\":\"4\",\"3\":\"75.7\",\"4\":\"52\",\"5\":\"4.93\",\"6\":\"1.615\",\"7\":\"18.52\",\"8\":\"1\",\"9\":\"1\",\"10\":\"4\",\"11\":\"2\",\"_rn_\":\"Honda Civic\"},{\"1\":\"33.9\",\"2\":\"4\",\"3\":\"71.1\",\"4\":\"65\",\"5\":\"4.22\",\"6\":\"1.835\",\"7\":\"19.90\",\"8\":\"1\",\"9\":\"1\",\"10\":\"4\",\"11\":\"1\",\"_rn_\":\"Toyota Corolla\"},{\"1\":\"21.5\",\"2\":\"4\",\"3\":\"120.1\",\"4\":\"97\",\"5\":\"3.70\",\"6\":\"2.465\",\"7\":\"20.01\",\"8\":\"1\",\"9\":\"0\",\"10\":\"3\",\"11\":\"1\",\"_rn_\":\"Toyota Corona\"},{\"1\":\"15.5\",\"2\":\"8\",\"3\":\"318.0\",\"4\":\"150\",\"5\":\"2.76\",\"6\":\"3.520\",\"7\":\"16.87\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"2\",\"_rn_\":\"Dodge Challenger\"},{\"1\":\"15.2\",\"2\":\"8\",\"3\":\"304.0\",\"4\":\"150\",\"5\":\"3.15\",\"6\":\"3.435\",\"7\":\"17.30\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"2\",\"_rn_\":\"AMC Javelin\"},{\"1\":\"13.3\",\"2\":\"8\",\"3\":\"350.0\",\"4\":\"245\",\"5\":\"3.73\",\"6\":\"3.840\",\"7\":\"15.41\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"4\",\"_rn_\":\"Camaro Z28\"},{\"1\":\"19.2\",\"2\":\"8\",\"3\":\"400.0\",\"4\":\"175\",\"5\":\"3.08\",\"6\":\"3.845\",\"7\":\"17.05\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3\",\"11\":\"2\",\"_rn_\":\"Pontiac Firebird\"},{\"1\":\"27.3\",\"2\":\"4\",\"3\":\"79.0\",\"4\":\"66\",\"5\":\"4.08\",\"6\":\"1.935\",\"7\":\"18.90\",\"8\":\"1\",\"9\":\"1\",\"10\":\"4\",\"11\":\"1\",\"_rn_\":\"Fiat X1-9\"},{\"1\":\"26.0\",\"2\":\"4\",\"3\":\"120.3\",\"4\":\"91\",\"5\":\"4.43\",\"6\":\"2.140\",\"7\":\"16.70\",\"8\":\"0\",\"9\":\"1\",\"10\":\"5\",\"11\":\"2\",\"_rn_\":\"Porsche 914-2\"},{\"1\":\"30.4\",\"2\":\"4\",\"3\":\"95.1\",\"4\":\"113\",\"5\":\"3.77\",\"6\":\"1.513\",\"7\":\"16.90\",\"8\":\"1\",\"9\":\"1\",\"10\":\"5\",\"11\":\"2\",\"_rn_\":\"Lotus Europa\"},{\"1\":\"15.8\",\"2\":\"8\",\"3\":\"351.0\",\"4\":\"264\",\"5\":\"4.22\",\"6\":\"3.170\",\"7\":\"14.50\",\"8\":\"0\",\"9\":\"1\",\"10\":\"5\",\"11\":\"4\",\"_rn_\":\"Ford Pantera L\"},{\"1\":\"19.7\",\"2\":\"6\",\"3\":\"145.0\",\"4\":\"175\",\"5\":\"3.62\",\"6\":\"2.770\",\"7\":\"15.50\",\"8\":\"0\",\"9\":\"1\",\"10\":\"5\",\"11\":\"6\",\"_rn_\":\"Ferrari Dino\"},{\"1\":\"15.0\",\"2\":\"8\",\"3\":\"301.0\",\"4\":\"335\",\"5\":\"3.54\",\"6\":\"3.570\",\"7\":\"14.60\",\"8\":\"0\",\"9\":\"1\",\"10\":\"5\",\"11\":\"8\",\"_rn_\":\"Maserati Bora\"},{\"1\":\"21.4\",\"2\":\"4\",\"3\":\"121.0\",\"4\":\"109\",\"5\":\"4.11\",\"6\":\"2.780\",\"7\":\"18.60\",\"8\":\"1\",\"9\":\"1\",\"10\":\"4\",\"11\":\"2\",\"_rn_\":\"Volvo 142E\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n<aside>Use the knitr option `layout=\"l-body-outset\"` to make the figure\nor table span the width of the page. More information\n[here](https://rstudio.github.io/distill/figures.html) and\n[here](https://rstudio.github.io/distill/figures.html) (from the\n*Distill for R Markdown documentation*).</aside>\n\n#### Images {.unnumbered}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::include_graphics(\"thumbnail.jpg\")\n```\n\n::: {.cell-output-display}\n![This is an image caption.](thumbnail.jpg){width=1970}\n:::\n:::\n\n\n<aside>The `\"class=external\"` knitr option creates a frame around the\nimage.</aside>\n\n# Cross-references {#cross-references}\n\nNow that we have some labelled equations and images, we can create\nhyperlinked references to them. Here are some examples:\n\n| Example                                        | Raw                  |\n|------------------------------------------------|----------------------|\n| *Bookdown environment*: See Theorem @thm-pyth. | `@thm-pyth`          |\n| *Math equation*: See equation @eq-var-beta.    | `@eq-var-beta`       |\n| *Figure or image*: See Fig. @fig-1.            | `@fig-1`             |\n| *Header*: See @sec-math-elements.              | `@sec-math-elements` |\n\n<aside>Table 2.1 on\n[this](https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html)\npage from *Authoring Books with R Markdown* lists the label prefixes for\nall other available theorem environments (we use the `thm` prefix\nhere).</aside>\n\n**Note**: The section 1 header is followed by the label\n{#math-elements}.\n\n# References\n\n#### In-text citations {.unnumbered}\n\nProvided you have stored the sources you wish to formally cite in a\nbibtex document, you can cite them in-text as follows and they will\nautomatically appear, with proper formatting, in the 'References'\nsection at the bottom of your document:\n\n``` html\n[@james2013introduction]\n```\n\n[@james2013introduction]\n\nThis is the bibtex entry in my `.bib` file to which this example refers:\n\n``` latex\n@book{james2013introduction,\n  title={An introduction to statistical learning},\n  author={James, Gareth and Witten, Daniela and Hastie, Trevor and Tibshirani, Robert},\n  volume={112},\n  year={2013},\n  publisher={Springer}\n}\n```\n\n#### Footnotes {.unnumbered}\n\nThis is a manual citation with a footnote:\n\n``` html\n(Axler, 2019)[^1].\n```\n\n(Axler, 2019)[^1].\n\nAt the bottom of my document I have a corresponding footnote entry that\nlooks like:\n\n``` html\n[^1]: Axler, S. (1997). *Linear algebra done right*.\nSpringer Science & Business Media.\n```\n\n# Asides\n\nI have been using these throughout. Here's how to create them:\n\n``` html\n<aside>\n\nThis content will appear in the gutter of the article.\n\n</aside>\n```\n\n<aside>This content will appear in the gutter of the article.</aside>\n\n# Columns\n\nUsing some [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS)\nmagic, we can create a two-column layout with both columns occupying 50%\nof the width of the screen like so:\n\n``` css\n::: {style=\"display: flex; width: 100%;\"}\n::: {style=\"flex: 2; padding: 10px;\"}\n![](../../images/banner-fuji-01.jpg \"fujinai\")\n{style=\"border: 0px solid black; box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.4)\"\nwidth=\"100%\"}\n:::\n\n::: {style=\"flex: 2; padding: 10px;\"}\n-   This text will appear in the right column.\n-   It will wrap around the edge of the column to accommodate the length\n    of the sentence.\n:::\n:::\n```\n\n::: fig-border\n:::\n\n::: {style=\"display: flex; width: 100%;\"}\n::: {style=\"flex: 2; padding: 10px;\"}\n![](../../images/banner-fuji-01.jpg \"fujinai\"){style=\"border: 0px solid black; box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.4)\"\nwidth=\"100%\"}\n:::\n\n::: {style=\"flex: 2; padding: 10px;\"}\n-   This text will appear in the right column.\n-   It will wrap around the edge of the column to accommodate the length\n    of the sentence.\n:::\n:::\n\n::: fig-border\n:::\n\nThe settings for both columns are placed in the first pair of curly\nbraces, and the content and settings of the individual columns are\nenclosed in the outer pair of `:::` operators.\n\nA few other notes:\n\n-   The `flex` settings ensure that the columns have equal width.\n-   The `padding` settings offset the contents of the columns from one\n    another.\n-   The overall width is set to 100% so that the columns span the width\n    of the screen.\n-   The image width is set to 100% so that it spans the width of the\n    column.\n\n# Text formatting\n\nHere are some additional text formatting tricks:\n\n#### Scripts, strikethrough {.unnumbered}\n\n|                                   |                                  |\n|-----------------------------------|----------------------------------|\n| A ~subscript~ and a ^superscript^ | `A~subscript~and a^superscript^` |\n| This is a ~~strikethrough~~       | `This is a ~~strikethrough~~`    |\n\n#### Centering, colour {.unnumbered}\n\nAnd to finish it off, let's use some\n[HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference)\nmagic to center, enlarge, and change the colour of some text:\n\n::: fig-border\n:::\n\n``` html\n<p style=\"text-align:center; font-size:160%; color:darkblue;\">\n    This is a big, blue, <b>bold</b> sentence.\n</p>\n```\n\n\n```{=html}\n<p style=\"text-align:center; font-size:160%; color:darkblue;\">\n    This is a big, blue, <b>bold</b> sentence.\n</p>\n```\n\n::: fig-border\n:::\n\n# Concluding remarks {.unnumbered}\n\nAnd that's it! As we've seen, R Markdown is a powerful integrated tool\nfor text editing, coding, and mathematical typesetting. Combined with\nthe math environments from Bookdown and the handy annotation tools from\nDistill, we have a fully capable suite of tools at our fingertips for\nproducing beautiful, well-referenced, web-friendly mathematical\ndocuments.\n\n[^1]: Axler, S. (1997). *Linear algebra done right*. Springer Science &\n    Business Media.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}